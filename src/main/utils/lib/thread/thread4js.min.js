!(function (e, t) { typeof exports === 'object' && typeof module === 'object' ? module.exports = t() : typeof define === 'function' && define.amd ? define([], t) : typeof exports === 'object' ? exports.Thread4Js = t() : e.Thread4Js = t(); }(typeof self !== 'undefined' ? self : this, function () {
  return (function (e) { var t = {}; function n(r) { if (t[r]) return t[r].exports; var o = t[r] = { i: r, l: !1, exports: {} }; return e[r].call(o.exports, o, o.exports, n), o.l = !0, o.exports; } return n.m = e, n.c = t, n.d = function (e, t, r) { n.o(e, t) || Object.defineProperty(e, t, { enumerable: !0, get: r }); }, n.r = function (e) { typeof Symbol !== 'undefined' && Symbol.toStringTag && Object.defineProperty(e, Symbol.toStringTag, { value: 'Module' }), Object.defineProperty(e, '__esModule', { value: !0 }); }, n.t = function (e, t) { if (1 & t && (e = n(e)), 8 & t) return e; if (4 & t && typeof e === 'object' && e && e.__esModule) return e; var r = Object.create(null); if (n.r(r), Object.defineProperty(r, 'default', { enumerable: !0, value: e }), 2 & t && typeof e !== 'string') for (var o in e)n.d(r, o, function (t) { return e[t]; }.bind(null, o)); return r; }, n.n = function (e) { var t = e && e.__esModule ? function () { return e.default; } : function () { return e; }; return n.d(t, 'a', t), t; }, n.o = function (e, t) { return Object.prototype.hasOwnProperty.call(e, t); }, n.p = '', n(n.s = 2); }([
    function (e, t, n) { 'use strict'; n.d(t, 'a', function () { return r; }); var r = (function () { function e() {} return e.isWebWorker = function () { return typeof Worker !== 'undefined'; }, e; }()); }, function (module, __webpack_exports__, __webpack_require__) { 'use strict'; var _utils_JsEnv__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(0); function worker() { if (_utils_JsEnv__WEBPACK_IMPORTED_MODULE_0__.a.isWebWorker()) { var ctx_1 = self; ctx_1.addEventListener('message', function (event) { var _self; eval('_self = ' + event.data), typeof _self.run === 'function' && (_self.run.call(_self), _self.callback && ctx_1.postMessage(JSON.stringify(_self.context))); }); } else window.addEventListener('message', function (event) { var _self, _event = event.getData(); _event.source !== window && (eval('_self = ' + _event.data), typeof _self.run === 'function' && (_self.run.call(_self), _self.callback && window.postMessage(JSON.stringify(_self.context), '*'))); }); } function fn2workerURL(e) { var t = new Blob(['(' + e.toString() + ')()'], { type: 'application/javascript' }); return URL.createObjectURL(t); }__webpack_exports__.a = fn2workerURL(worker); }, function (e, t, n) { 'use strict'; n.r(t); var r = (function () { function e(e) { return void 0 === e && (e = ''), this._buf = [], e.length && this._buf.push(e), this; } return e.prototype.append = function (e) { return e.length && this._buf.push(e), this; }, e.prototype.clear = function () { this._buf.length = 0; }, e.prototype.toString = function () { return this._buf.join(''); }, e.prototype.size = function () { return this._buf.length; }, e; }()), o = n(0); var i = n(1), s = (function () { function e(e) { this.started = !1, this.workerType = 0, this._init(e, 'Thread-' + Math.random().toString(36).substr(2)); } return e.prototype.onmessage = function (e) { console.log(e); }, e.prototype.onerror = function (e) { console.log(e); }, e.prototype.run = function () { this.start(); }, e.prototype.start = function () { this.started = !0, this.join(this.runnable, !0); }, e.prototype.join = function (e, t) { if (void 0 === t && (t = !1), e != null) { var n, o, i; t ? (n = e.context, o = e.run, i = e.callback) : (n = e, o = this.runnable.run, i = this.runnable.callback); var s = new r(); s.append('{'), s.append('context:').append(JSON.stringify(n)), s.append(',run:').append(o), s.append(',callback:').append(i), s.append('}'); var a = s.toString(); this.workerType === 0 ? this.worker.postMessage(a) : this.worker.postMessage(a, '*'); } }, e.prototype.stop = function () { switch (this.workerType) { case 0:this.worker.terminate(); } }, e.prototype.sleep = function (e) { console.log(e); }, e.prototype.isActive = function () { return this.started; }, e.prototype._onmessage = function (e) { e.getData().source !== window && typeof this.onmessage === 'function' && (this.runnable.context = JSON.parse(e.getData().data), this.onmessage({ name: this.name, code: 0, data: this.runnable.context })); }, e.prototype._onerror = function (e) { typeof this.onerror === 'function' && this.onerror({ name: this.name, code: -1, data: e.getData().data }); }, e.prototype._init = function (e, t) { if (!t) throw console.error('name cannot be null'), new Error('name cannot be null'); this.name = t, o.a.isWebWorker() ? (this.worker = new Worker(i.a), this.worker.addEventListener('message', this._onmessage), this.worker.addEventListener('error', this._onerror)) : this.workerType = 1; }, e; }()); n.d(t, 'Thread', function () { return s; }); }
  ]));
}));
